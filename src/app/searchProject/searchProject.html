<mat-toolbar>
    <div class="header">
        <div class="header_left">
            <button matIconButton (click)="sidenav.toggle()">
                <mat-icon>menu</mat-icon>
            </button>
            <span>MatchApp</span>
        </div>
        <div class="header_middle">
            <mat-form-field appearance="outline" class="filtro" class="browser">
                    <mat-label>Buscar proyecto...</mat-label>
                    <input matInput (keyup.enter)="onSearchEnter()" [(ngModel)]="searchBarText" />
                    <mat-icon matSuffix>search</mat-icon>
            </mat-form-field>
        </div>
        <div class="header_right">
            <button mat-button type="button" (click)="onSearchClick()" class="add_project">
                Nuevo proyecto
                <mat-icon matSuffix>add</mat-icon>
            </button>
            <button mat-icon-button (click)="goToProfile()" class="profile">
                <img [src]="userPhotoUrl" alt="Foto" class="profile_picture"/>
            </button>
        </div>
    </div>
</mat-toolbar>
    
<mat-sidenav-container class="contenedor">
    <mat-sidenav #sidenav mode="side" class="side">
        <form [formGroup]="form">
            <mat-form-field appearance="fill" class="filtro">
                <mat-label>Título</mat-label>
                <input matInput formControlName="titulo" placeholder="Titulo"/>
            </mat-form-field>

            <mat-form-field appearance="fill" class="filtro">
                <mat-label>Descripción</mat-label>
                <input matInput formControlName="descripcion" placeholder="Descripcion"/>
            </mat-form-field>

            <mat-form-field appearance="fill" class="filtro">
                <mat-label>Categoría</mat-label>
                <mat-select formControlName="idCategoria">
                    @for (categoria of categorias; track categoria) {
                        <mat-option [value]="categoria.id">{{categoria.nombre}}</mat-option>
                    }
                </mat-select>
            </mat-form-field>

            <mat-form-field appearance="fill" class="filtro">
                <mat-label>Usuario</mat-label>
                <input matInput formControlName="usuario" placeholder="Usuario"/>
            </mat-form-field>

            <mat-slide-toggle formControlName="fecha" appearance="fill" class="filtro">Ordenar por fecha</mat-slide-toggle>

            <button mat-button type="button" (click)="onSearchClick()">Buscar</button>
        </form>
    </mat-sidenav>
    
    <mat-sidenav-content class="principal">
        <div class="projects-list">
            @for(project of projects; track $index) {
                <app-project-card [project]="project" [buscando]="buscando()"></app-project-card>
            }
        </div>
    </mat-sidenav-content>
</mat-sidenav-container>
